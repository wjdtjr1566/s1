<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 배열 : 값을 순서대로 관리
        const array = []

        // json
        // 값을 key와 value로 관리 
        // 순서는 보장하지 않는다 

        // json 선언 
        let json = {}
        const v3 = 'v3'
        json = {
            "key": "value",
            "num": 1234,
            'k1': 'v1', //k1 이런건 변수명임 
            k2: v3,
            k3: function () { // 아무거나 들어가지만 함수는 잘 안 씀!
                console.log('함수 실행')
            },
            k4: {
                k4_1: 'v4_1',
                k4_2: 'v4_2'
            }
        }

        console.log(json)
        console.log('' + json)

        // 값 접근
        // 방법1 : 배열처럼 접근 
        console.log("json['key'] :", json['key'])
        console.log("json['num'] :", json['num'])
        console.log("json['k4']['k4_1'] :", json['k4']['k4_1'])

        // debugger;

        // 방법2 : 프로퍼티처럼 접근
        console.log('json.num :', json.num)

        console.log(json.k4.k4_1)
        json['k3']()
        json.k3()


        // 값 넣기
        // key가 있으면 덮어쓰기
        // key가 없으면 추가 
        json.num = 123
        console.log(json.num2)
        json.num2 = 222
        console.log(json)
        // json.num2.secret = 1 
        // console.log(json.num2.secret) 이건 안 됨 

        // 네트워크 통신할 때 무조건 문자로 전송한다
        // stringify: json을 문자열로 만들어 줌 
        // 단 , 값이 함수인것은 제외된다
        const str = JSON.stringify(json) // 제이슨을 문자로 바꿔보내기
        console.log(str)

        // parse : json 문법의 문자열을 json 객체로 만들어준다
        const json2 = JSON.parse(str) // 바꾼거 다시 돌려놓기 
        console.log(json2)

        // json 형태가 아니라서 오류 발생 
        // let j = JSON.parse('str') //... not... JSON
        j = JSON.parse("{}")
        j = JSON.parse("[]")

        const aJson = [{
            empno: 7788,
            ename: 'scott'
        }, {
            empno: 1234,
            ename: 'human'
        }]
        for (let emp of aJson) {
            console.log(emp.ename)
        }
        for (let index in aJson) {
            console.log(aJson[index].ename)
        }
        
        // json의 모든 key를 배열로 돌려준다
        const keys = Object.keys(json)
        console.log(keys)

        // key 삭제
        delete json.num 
        console.log(json)

    </script>
</head>

<body>
</body>

</html>